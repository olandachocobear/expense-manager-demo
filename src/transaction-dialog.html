<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/vaadin-button/vaadin-button.html">
<link rel="import" href="../bower_components/vaadin-dialog/vaadin-dialog.html">

<link rel="import" href="../bower_components/number-input/number-input.html">

<dom-module id="transaction-dialog">
  <template>
    <vaadin-dialog modeless noCloseOnEsc noCloseOnOutsideClick id="dialog" no-close-on-esc no-close-on-outside-click opened="[[open]]">
      <template>
          <style>
              .wrapper {
                display: flex;
                margin-top: var(--lumo-space-s);
              }
    
              #form {
                min-width: 300px;
                display: flex;
                flex-direction: column;
              }
    
              #upload {
                margin-left: var(--lumo-space-l);
              }
    
              .buttons vaadin-button {
                margin-right: var(--lumo-space-m);
              }
    
              vaadin-text-area {
                min-height: 125px;
              }
    
              img {
                max-width: 350px;
              }
    
              @media (max-width: 900px) {
                [part~="overlay"] {
                  align-self: stretch;
                  border-radius: 0;
                }
    
                #upload {
                  margin: 10px 0;
                }
    
                .wrapper {
                  flex-direction: column;
                }
    
                .receipt-wrapper img {
                  max-width: 100%;
                }
              }
              h4 {
                font-size: 10px;
                margin-bottom: -18px;
              }
              h2 {
                margin-bottom:13px;
              }
          </style>
        <h4>VOUCHER / COUPON</h4>
        <h2>Manual Redeem</h2>

        <div id="form">
            <iron-a11y-keys keys="enter" on-keys-pressed="_save"></iron-a11y-keys>
            
            <vaadin-combo-box name="merchant" items='[{"label": "Voucher", "value": 0}, {"label": "Coupon", "value": 1}]' value="{{_expense.transType}}" selected="Voucher" label="Type Promotion" required></vaadin-combo-box>

            <vaadin-text-field name="total" value="{{_expense.total}}" label="Total transaction" pattern="[0-9]+[.]?[0-9]*" required>
              <div slot="prefix">Rp</div>
            </vaadin-text-field>
            
            <vaadin-text-field label="Merchant Name" value="Matahari Department Store (Ciputra Mall)" readonly></vaadin-text-field>

            <!-- <vaadin-date-picker name="date" label="Date" value="{{_expense.date}}" required></vaadin-date-picker> -->
            
            <!-- <vaadin-text-field name="voucher_code" value="{{_expense.total}}" label="Voucher" pattern="[0-9]+[.]?[0-9]*" required>
                <div slot="prefix">$</div>
              </vaadin-text-field> -->

            <div class="vaadin-text-field-container" style="margin-top:18px;
                  font-weight:500; 
                  font-size: var(--lumo-font-size-s); 
                  color: var(--lumo-secondary-text-color);
            ">
                <label part="label" id="vaadin-text-field-label-11">Voucher code</label>
            </div>

            <div style="margin-top:11px;display:inline-block;
                        width: 100%;
                        text-align: center;">

              <number-input name="voucher-1" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-2" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-3" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-4" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-5" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-6" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
              
              <number-input name="voucher-7" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
            
              <number-input name="voucher-8" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
            
              <number-input name="voucher-9" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
            
              <number-input name="voucher-10" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
            
              <number-input name="voucher-11" required no-clamp saturate min="0" max="9" ></number-input>
            
              <number-input name="voucher-12" class="integer" required no-clamp saturate min="0" max="9" ></number-input>
            
            </div>  
            
            
            <!-- <vaadin-text-area name="comment" label="Comment" value="{{_expense.comment}}"></vaadin-text-area> -->
            
            <div style="margin-top:25px;
            margin-bottom:-2px; text-align:center">
              <vaadin-text-field value="Go-Cafe 25k!!" readonly style="
              font-size:15px;
              opacity:90%;
              width:121px;
              height:53px;
              background-color:darkseagreen"></vaadin-text-field>
            </div>
          </div>

          <br>

        <div class="buttons" style=text-align:center>
          <vaadin-button theme="primary" on-click="_close" style="height:50px;width:100%">Proceed</vaadin-button>
        </div>

      </template>
    </vaadin-dialog>

  </template>
  <script>
    (function() {
      /**
       * @memberof ExpenseManager
       */
      class TransactionDialogElement extends ExpenseManager.ReduxMixin(Polymer.Element) {
        static get is() {
          return 'transaction-dialog';
        }

        static get properties() {
          return {
            /**
             * True if the dialog is opened.
             */
            open: {
              type: Boolean,
              statePath: 'uiState.infoDialogVisible'
            }
          };
        }

        /**
         * Closes the dialog.
         */
        _close() {
          this.dispatch('hideInfoDialog');
        }
      }

      customElements.define(TransactionDialogElement.is, TransactionDialogElement);

      /**
       * @namespace ExpenseManager
       */
      window.ExpenseManager = window.ExpenseManager || {};
      ExpenseManager.TransactionDialogElement = TransactionDialogElement;
    })();
  </script>
</dom-module>

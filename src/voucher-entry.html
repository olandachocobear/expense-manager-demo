<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="./standard-input.html">
<link rel="import" href="./voucher-label.html">
<link rel="import" href="../bower_components/iron-swipeable-container/iron-swipeable-container.html">

<script src="./js/voucher-entry.js"></script>

<dom-module id="voucher-entry">
  <template>
    
    <style>
      div {
        margin-bottom:10px;
      }
      voucher-label{
        /* float:left; strange..if commented, it will be floating */
        position: relative;
        /* left:42%; */
        box-shadow: 1px 2px 4px darkslateblue;
        top: -21px;
        left: 38%;
        z-index: 2;
        line-height: 1;
        vertical-align: baseline;
        margin: 0 .14285714em;
        background-color: lightsteelblue;
        background-image: none;
        padding: .4983em 1.403em; /* .5833em .833em; */
        color: #556b2fee;
        /* color: rgba(0,0,0,.6); */
        text-transform: none;
        font-weight: 500;
        border: 0 solid transparent;
        opacity: 0.95;
      }
      voucher-label:before {
        position: absolute;
        -webkit-transform: translateY(-50%) translateX(50%) rotate(-45deg);
        transform: translateY(-50%) translateX(50%) rotate(-45deg);
        top: 50%;
        right: 100%;
        content: '';
        background-color: lightsteelblue;
        background-image: none;
        width: 1.56em;
        height: 1.56em;
        -webkit-transition: none;
        transition: none;
      }
      voucher-label:after{
        position: absolute;
        content: '';
        top: 50%;
        left: -.25em;
        margin-top: -.25em;
        background-color: #fff!important;
        width: .5em;
        height: .5em;
        -webkit-box-shadow: 0 -1px 1px 0 rgba(0,0,0,.3);
        box-shadow: 0 -1px 1px 0 rgba(0,0,0,.3);
        border-radius: 500rem;
      }

      overlay {
        display:block;
        background: #ef7777;
        z-index:1;
      -webkit-filter: blur(25px);
      -moz-filter: blur(25px);
      -o-filter: blur(25px);
      -ms-filter: blur(25px);
      filter: blur(7px);
      opacity: 1;
      height: 16px;
    width: 95%;
    margin-left: 2%;
    margin-top: -29px;
    visibility: hidden;
    
      }

      overlay[shown]{
        visibility: visible;
    }

      voucher-label { visibility: hidden;}
      voucher-label[shown] {visibility: visible;}

      .preload{display:none;float: right;
    margin-top: -23px;
    transition: visibility 2s linear,opacity 2s linear;
    margin-right: 4px;opacity:0.9};
      .preload[shown]{display: inline;}
    </style>

    <!-- <dom-repeat items={{vouchers}}> -->
      <!-- <template> -->
        <iron-swipeable-container swipe-style="curve" width-ratio="3"
          on-iron-swipe="_deleteNode"
        >
        <div id=node>
          <!-- <h5>[[voucher.uniqueCode]]</h5> -->
          <standard-input current-voucher=[[voucher]] 
          id=[[voucher.id]] 
          code={{voucher.uniqueCode}}>
          </standard-input>
          
          <overlay shown$="[[voucher.voucherEligible]]">.</overlay>
          
          <voucher-label 
            bgColor="red"
            label=[[voucher.voucherType]]
            shown$="[[voucher.voucherEligible]]"
          >
          </voucher-label>

          <div class="preload" shown$="[[voucher.onCheck]]">
            <img src="images/preload2.gif" >
         </div>
          <!-- extra information on the right..-->
          
        </div>
        </iron-swipeable-container>
      <!-- </template> -->
    <!-- </dom-repeat> -->
    
  </template>

  
</dom-module>
